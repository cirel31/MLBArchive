FROM node:18-alpine

WORKDIR /app

COPY package*.json /app
RUN npm i -f

# API KEY & SECRETE KEY
ENV NEXT_PUBLIC_NAVER_CLIENT_ID jzQ_Z_TqlmAVqPcgNCwr
ENV NEXT_PUBLIC_NAVER_CLIENT_SECRET eseJBAMxn2

ENV NEXT_PUBLIC_KAKAO_CLIENT_ID 58eed44d11c6af52c6a68c04e0535346
ENV NEXT_PUBLIC_KAKAO_CLIENT_SECRET bBPBGpVCVBztPXD2OW5HeBNtTUUNU5YY

ENV NEXT_PUBLIC_GOOGLE_CLIENT_ID 160473970613-kedt5h9uf0i2cepc82lhkpvmih1dgc3u.apps.googleusercontent.com
ENV NEXT_PUBLIC_GOOGLE_CLIENT_SECRET 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



# URL Lists

# BASE
ENV NEXT_PUBLIC_CLIENT_BASE_URL http://j9a301.p.ssafy.io:3000
ENV NEXT_PUBLIC_SERVER_BASE_URL http://j9a301.p.ssafy.io:8080
# OAUTH FRONT
ENV NEXT_PUBLIC_OAUTH_KAKAO_URL /oauth/kakao
ENV NEXT_PUBLIC_OAUTH_NAVER_URL /oauth/naver
ENV NEXT_PUBLIC_OAUTH_GOOGLE_URL /oauth/google
# OAUTH BACK
ENV NEXT_PUBLIC_OAUTH_SERVER_URL /api/auth/login/
ENV NEXT_PUBLIC_OAUTH_KAKAO_SERVER_URL /api/auth/login/kakao
ENV NEXT_PUBLIC_OAUTH_NAVER_SERVER_URL /api/auth/login/naver
ENV NEXT_PUBLIC_OAUTH_GOOGLE_SERVER_URL /api/auth/login/google
# USER
ENV NEXT_PUBLIC_SERVER_LOGIN_URL /login
ENV NEXT_PUBLIC_SERVER_LOGOUT_URL /logout
# SEARCH
ENV NEXT_PUBLIC_SERVER_SEARCH_URL /search

COPY ./ /app
RUN npm run build
EXPOSE 3000

CMD ["npm","run","start"]
